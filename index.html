<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Grid Segment Slideshow</title>
    <link rel="stylesheet" href="style.css">

    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#218085">
    <link rel="manifest" href="/smart-grid-display/manifest.json">
</head>
<body>
    <div class="container">
        <!-- Form State -->
        <div id="form-container" class="state-container">
            <div class="card">
                <div class="card__header">
                    <h1>Slideshow Configuration</h1>
                    <p class="form-description">Configure your image grid slideshow settings</p>
                </div>
                <div class="card__body">
                    <form id="slideshow-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="grid-rows" class="form-label">Grid Rows</label>
                                <input type="number" id="grid-rows" class="form-control" min="1" max="100" value="3" required>
                            </div>
                            <div class="form-group">
                                <label for="grid-cols" class="form-label">Grid Columns</label>
                                <input type="number" id="grid-cols" class="form-control" min="1" max="100" value="4" required>
                            </div>
                        </div>
                        
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="target-row" class="form-label">Target Row</label>
                                <select id="target-row" class="form-control" required>
                                    <option value="1">Row 1</option>
                                    <option value="2">Row 2</option>
                                    <option value="3">Row 3</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="target-col" class="form-label">Target Column</label>
                                <select id="target-col" class="form-control" required>
                                    <option value="1">Column 1</option>
                                    <option value="2">Column 2</option>
                                    <option value="3">Column 3</option>
                                    <option value="4">Column 4</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="start-time" class="form-label">Start Time</label>
                            <input type="datetime-local" id="start-time" class="form-control" required>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn--primary btn--full-width">Start Slideshow</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Countdown State -->
        <div id="countdown-container" class="state-container hidden">
            <div class="card">
                <div class="card__header">
                    <div id="settings-summary" class="settings-summary"></div>
                </div>
                <div class="card__body">
                    <div class="countdown-display">
                        <div id="countdown-timer" class="countdown-timer">00:00:00</div>
                    </div>
                    <div class="form-actions">
                        <button id="reset-from-countdown" class="btn btn--outline">Reset Configuration</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slideshow State -->
        <div id="slideshow-container" class="state-container hidden">
            <div class="image-container">
                <canvas id="image-canvas"></canvas>
                <div id="loading-indicator" class="loading-indicator">Loading image...</div>
            </div>
        </div>

        <!-- Error State -->
        <div id="error-container" class="state-container hidden">
            <div class="card">
                <div class="card__body">
                    <div class="error-message">
                        <h3>Error</h3>
                        <p id="error-text"></p>
                        <button id="reset-from-error" class="btn btn--primary">Back to Form</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>